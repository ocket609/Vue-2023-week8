import{a as y}from"./axios-G2rPRu76.js";import{_ as x,o as a,c,b as t,n as g,F as u,g as m,t as r,d as l,w as h,r as v,e as _}from"./index-d4XcJYxq.js";const k={props:["pages","getProducts"]},$={"aria-label":"Page navigation example"},P={class:"pagination"},w=t("span",{"aria-hidden":"true"},"«",-1),E=[w],C=["onClick"],V=t("span",{"aria-hidden":"true"},"»",-1),L=[V];function N(p,n,e,i,d,b){return a(),c("nav",$,[t("ul",P,[t("li",{class:g(["page-item",{disabled:!e.pages.has_pre}])},[t("a",{class:"page-link","aria-label":"Previous",onClick:n[0]||(n[0]=s=>e.getProducts(e.pages.current_page-1))},E)],2),(a(!0),c(u,null,m(e.pages.total_pages,s=>(a(),c("li",{class:g(["page-item",{active:s===e.pages.current_page}]),key:s+123},[t("a",{class:"page-link",onClick:f=>e.getProducts(s)},r(s),9,C)],2))),128)),t("li",{class:g(["page-item",{disabled:!e.pages.has_next}])},[t("a",{class:"page-link","aria-label":"Next",onClick:n[1]||(n[1]=s=>e.getProducts(e.pages.current_page+1))},L)],2)])])}const O=x(k,[["render",N]]);var R={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_NAME:"qoo",BASE_URL:"/Vue-2023-week8/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:T,VITE_NAME:j}=R,B={data(){return{products:[],categories:["草本木質調","花香","其他"],pages:{}}},watch:{"$route.query":{handler(){this.getProducts()},deep:!0}},methods:{getProducts(p=1){console.log(this.$route);const{category:n=""}=this.$route.query,e=`${T}/api/${j}/products?category=${n}&page=${p}`;y.get(e).then(i=>{this.products=i.data.products,this.pages=i.data.pagination}).catch(i=>{console.log(i),alert(i.response.data.message)})}},mounted(){this.getProducts()},components:{PaginationComponent:O}},D=t("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"200px"}},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://images.unsplash.com/photo-1480399129128-2066acb5009e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80)","background-position":"center center",opacity:"0.1"}}),t("h2",{class:"fw-bold"},"Lorem ipsum.")],-1),q={class:"container mt-md-5 mt-3 mb-7"},I={class:"row"},M={class:"col-md-4"},S={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},U={class:"card border-0"},A=t("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[t("div",{class:"d-flex justify-content-between align-items-center pe-1"},[t("h4",{class:"mb-0"}," Lorem ipsum "),t("i",{class:"fas fa-chevron-down"})])],-1),F={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},z={class:"card-body py-0"},H={class:"list-unstyled"},J={class:"col-md-8"},Q={class:"row"},W={class:"card border-0 mb-4 position-relative position-relative"},G=["src"],K=t("a",{href:"#",class:"text-dark"},[t("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),X={class:"card-body p-0"},Y={class:"mb-0 mt-3"},Z={class:"card-text mb-0"},tt={class:"text-muted"},et=t("p",{class:"text-muted mt-3"},null,-1),st={class:"d-flex justify-content-center"};function ot(p,n,e,i,d,b){const s=v("RouterLink"),f=v("PaginationComponent");return a(),c(u,null,[D,t("div",q,[t("div",I,[t("div",M,[t("div",S,[t("div",U,[A,t("div",F,[t("div",z,[t("ul",H,[t("li",null,[l(s,{class:"py-2 d-block text-muted",to:"/products"},{default:h(()=>[_("全部")]),_:1})]),(a(!0),c(u,null,m(d.categories,o=>(a(),c("li",{key:o},[l(s,{class:"py-2 d-block text-muted",to:`/products?category=${o}`},{default:h(()=>[_(r(o),1)]),_:2},1032,["to"])]))),128))])])])])])]),t("div",J,[t("div",Q,[(a(!0),c(u,null,m(d.products,o=>(a(),c("div",{class:"col-md-6",key:o.id},[t("div",W,[t("img",{src:o.imageUrl,class:"card-img-top rounded-0 object-fit-cover",height:"300",alt:"..."},null,8,G),K,t("div",X,[t("h4",Y,[l(s,{to:`/product/${o.id}`},{default:h(()=>[_(r(o.title),1)]),_:2},1032,["to"])]),t("p",Z,[_("NT$"+r(o.price)+" ",1),t("span",tt,[t("del",null,"NT$"+r(o.origin_price),1)])]),et])])]))),128))]),t("nav",st,[l(f,{pages:d.pages,"get-products":b.getProducts},null,8,["pages","get-products"])])])])])],64)}const nt=x(B,[["render",ot]]);export{nt as default};
